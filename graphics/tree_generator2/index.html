<!DOCTYPE html>
<html>
    <head>
        <title>www.lukewallin.co.uk</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <link rel="stylesheet" type="text/css" href="/theme/css/index.css" />
        <script type="text/javascript" src="/include/js/jquery-1.7.2.min.js"></script>

        <script type="text/javascript">
//google analytics:
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-4540710-1']);
_gaq.push(['_setDomainName', 'lukewallin.co.uk']);
_gaq.push(['_trackPageview']);

(function() {
    var ga = document.createElement('script');
    ga.type = 'text/javascript';
    ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(ga, s);
})();

        </script>
    </head>
    <body>
        <table id="layout_table">
            <tr><td id="header_cell" colspan ="2">
                    <div class="main_header"><a href="http://www.lukewallin.co.uk">www.lukewallin.co.uk</a></div>
                    <div class="mini_header">Personal Projects and Mucking Around</div>
            </tr>
            <tr><td id="left_cell">
                    <div class="links_tree">
                        <ul>

                            <li class="section_title">Site</li>


                            <li><ul>

                                    <li class="page_link"><a href="/site\about/">About</a></li>
                                    <li class="page_link"><a href="/site\contact/">Contact Me</a></li>
                                    <li class="page_link"><a href="/site\news/">News</a></li>
                                </ul></li>
                            <li class="section_title">Games</li>


                            <li><ul>

                                    <li class="page_link"><a href="/games\cards/">Card Games</a></li>
                                    <li class="page_link"><a href="/games\chain_reaction/">Chain Reaction</a></li>
                                    <li class="page_link"><a href="/games\pegs/">Pegs</a></li>
                                    <li class="page_link"><a href="/games\planet_wars/">Planet Wars</a></li>
                                    <li class="page_link"><a href="/games\planet_wars2/">Planet Wars 2</a></li>
                                    <li class="page_link"><a href="/games\rabbits/">Rabbits</a></li>
                                    <li class="page_link"><a href="/games\sandbox/">2D Sandbox</a></li>
                                    <li class="page_link"><a href="/games\shooter/">Shooter</a></li>
                                </ul></li>
                            <li class="section_title">Software</li>


                            <li><ul>

                                    <li class="page_link"><a href="/software\counter/">Hit Counter</a></li>
                                    <li class="page_link"><a href="/software\engine/">2D Engine</a></li>
                                    <li class="page_link"><a href="/software\gameoflife/">Game of Life</a></li>
                                    <li class="page_link"><a href="/software\harmonograph/">Harmonograph</a></li>
                                </ul></li>
                            <li class="section_title">Hardware</li>


                            <li><ul>

                                    <li class="page_link"><a href="/hardware\robot/">Nerf Bot</a></li>
                                </ul></li>
                            <li class="section_title">Graphics</li>


                            <li><ul>

                                    <li class="page_link"><a href="/graphics\3dengine/">3D JS Engine</a></li>
                                    <li class="page_link"><a href="/graphics\fractals/">Fractals</a></li>
                                    <li class="page_link"><a href="/graphics\java_trees/">3D Java Trees</a></li>
                                    <li class="page_link"><a href="/graphics\raytracer/">Raytracer</a></li>
                                    <li class="page_link"><a href="/graphics\spirograph/">Spirograph</a></li>
                                    <li class="page_link"><a href="/graphics\tree_generator/">JS Trees 1</a></li>
                                    <li class="page_link"><a href="/graphics\tree_generator2/">JS Trees 2</a></li>
                                </ul></li>
                            <li class="section_title">Big Projects</li>


                            <li><ul>

                                    <li class="page_link"><a href="/big_projects\bridge/">Bridge Project</a></li>
                                    <li class="page_link"><a href="/big_projects\raft/">Raft Race</a></li>
                                    <li class="page_link"><a href="/big_projects\trebuchet/">Trebuchet</a></li>
                                    <li class="page_link"><a href="/big_projects\water_rockets/">Water Rockets</a></li>
                                </ul></li>
                            <li class="section_title">Working Models</li>


                            <li><ul>

                                    <li class="page_link"><a href="/models\coaster/">Roller Coaster</a></li>
                                    <li class="page_link"><a href="/models\dalek/">Dalek</a></li>
                                    <li class="page_link"><a href="/models\mangonel/">Mangonel</a></li>
                                    <li class="page_link"><a href="/models\trebuchet/">Trebuchet</a></li>
                                </ul></li>
                            <li class="section_title">Odds and Sods</li>


                            <li><ul>

                                    <li class="page_link"><a href="/misc\2darwinia/">2Darwinia</a></li>
                                    <li class="page_link"><a href="/misc\arcade_machine/">Arcade Machine</a></li>
                                    <li class="page_link"><a href="/misc\chilworth_gunpowder/">Gunpowder Mills</a></li>
                                    <li class="page_link"><a href="/misc\harmonograph/">Harmonograph</a></li>
                                </ul></li>
                        </ul>
                    </div>
                    <p class="footnote">
                        &copy; Luke Wallin 2005-2017
                    </p>
                </td>

                <td id="centre_cell" class="content">

                    <h1 class="entry-title">Second Javascript Canvas Tree Generator</h1>

                    <ul class="under_title_links">


                        <li>
                            <a href="/scripts/Animation/realistictreestatic.html">Static Tree</a>
                        </li>
                        <li>
                            <a href="/scripts/Animation/realistictree.html">Animated Tree</a>
                        </li>
                        <li>
                            <a href="/scripts/Animation/tree.html">Stylised Tree Animation</a>
                        </li>
                    </ul>


                    <script type="text/javascript" src="/scripts/Animation/Animation.js"></script>

<div class="highlight"><pre><span></span>
</pre></div>


<p><script type="text/javascript" src="/scripts/Animation/common.js"></script>
<script type="text/javascript" src="/scripts/Animation/Tree.js"></script>
<script type="text/javascript" src="/scripts/Animation/TreeAnimation.js"></script>
<!--[if IE]>
<script type="text/javascript" src="/scripts/Animation/excanvas_gradstuff_compressed_IE8.js"></script>
<![endif]--></p>
<p>
    I decided to try and improve upon my <a href="/graphics/tree_generator">previous tree generator</a>.  This still uses JavaScript and the canvas, but is a much better planned out tree, with much more smooth animations, and some far more interesting ideas behind it.
</p>

<p><a href="/scripts/Animation/realistictreestatic.html"><img src="/scripts/Animation/tree.png"></a>
<p>
    The structure of the tree is loosely inspired by some of the ideas in <a href="http://algorithmicbotany.org/papers/">The Algorithmic Beauty of Plants</a>, although this version doesn't implement any of the L-systems suggested.
</p>
<p>
    My first version was a test of my new animation system from <a href="/games/planet_wars2">Planet Wars 2</a> for drawing trees:
</p></p>
<canvas id="testCanvas" width="600" height="400"></canvas>

<p><script>
      var AnimationTest=new Object();
      var loadCanvas=function(){</p>
<div class="highlight"><pre><span></span>      var finish=function(){
        AnimationTest.tree.drawMe(AnimationTest.animationObj.canvas);
        AnimationTest.tree.grow();
        setTimeout(function(){AnimationTest.animationObj.MakeTree(AnimationTest.tree,100)},2000);
    }

    AnimationTest.animationObj=loadSimpleAnimationFromCanvas(&quot;testCanvas&quot;,finish);
    //animationObj.canvas.fillStyle=&quot;rgb(255,0,0)&quot;;
    //animationObj.canvas.fillRect(50,50,200,200);
    AnimationTest.tree=new TreeClass([300,400],3,6,Math.PI/2,[255,255,0,1],[255,0,0,1],60,-Math.PI/2,3,1)
    AnimationTest.tree.grow();
    AnimationTest.animationObj.MakeTree(AnimationTest.tree,100)
  }

  myAddEvent(window,&#39;onload&#39;,loadCanvas);
<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;p&gt;</span>
    This proved to be a success and so I developed a slightly more <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;/scripts/Animation/realistictree.html&quot;</span><span class="nt">&gt;</span>realistic tree growing animation.<span class="nt">&lt;/a&gt;</span> (Warning: this can run very slowly in some browsers!)
<span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;p&gt;</span>
    When I attempted to add leaves to the tree, I realised just how 2D the structure really was, which lead to the development of a <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;/graphics/java_trees&quot;</span><span class="nt">&gt;</span>3D tree generator<span class="nt">&lt;/a&gt;</span>.
<span class="nt">&lt;/p&gt;</span>
</pre></div>

                </td>



            </tr>
        </table>
    </body>
</html>