<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<?xml version="1.0" encoding="iso-8859-1"?>
<html>
<head>
<title>Canvas Testing</title>
</head>
<body>

<span id="canvasspan"></span>


<script language="JavaScript" type="text/javascript">
<!--

var canvas=document.getElementById('canvasspan');

function line(x1,y1,x2,y2,z,colour,thick)
{
this.x1=x1
this.y1=y1
this.x2=x2
this.y2=y2
this.z=z
this.colour=colour
this.thick=thick
this.DrawLine=DrawLine
}

function circle(x1,y1,r,z,colour,thick)
{
this.x1=x1
this.y1=y1
this.r=r
this.z=z
this.colour=colour
this.thick=thick
this.DrawCircle=DrawCircle
}

function elipse(x1,y1,rx,ry,z,colour,thick)
{
this.x1=x1
this.y1=y1
this.rx=rx
this.ry=ry
this.z=z
this.colour=colour
this.thick=thick
this.DrawElipse=DrawElipse
}

function DrawCircle()
{
var addhtml=''
//length of sector = angle * r, and each sector is 1 thickness long, therefore angle of each sector =  1/r
var eachangle=this.thick/this.r
for(var s=0;s<=Math.PI*2;s=s+eachangle)
{
var pixelleft=Math.round(this.x1+this.r*Math.sin(s))
var pixeltop=Math.round(this.y1+this.r*Math.cos(s))
addhtml+="<div style='position:absolute; line-height:0; clip:rect(0,"+this.thick+"px,"+this.thick+"px,0); z-index:"+this.z+"; width:"+this.thick+";height:"+this.thick+"px; left:"+pixelleft+"; top:"+pixeltop+"; background-color:"+this.colour+";'></div>"
}
canvas.innerHTML+=addhtml
}



function DrawElipse()
{
var addhtml=''
//length of sector = angle * r, and each sector is 1 thickness long, therefore angle of each sector =  1/r

if(this.rx>=this.ry)
{var eachangle=this.thick/this.rx}else{var eachangle=this.thick/this.ry}

for(var s=0;s<=Math.PI*2;s=s+eachangle)
{
var pixelleft=Math.round(this.x1+this.rx*Math.sin(s))
var pixeltop=Math.round(this.y1+this.ry*Math.cos(s))
addhtml+="<div style='position:absolute; line-height:0; clip:rect(0,"+this.thick+"px,"+this.thick+"px,0); z-index:"+this.z+"; width:"+this.thick+";height:"+this.thick+"px; left:"+pixelleft+"; top:"+pixeltop+"; background-color:"+this.colour+";'></div>"
}
canvas.innerHTML+=addhtml
}

function DrawLine()
{
var lengthofline=Math.sqrt( (this.x1-this.x2)*(this.x1-this.x2)+(this.y1-this.y2)*(this.y1-this.y2) )
var chunkY=(this.y2-this.y1)/lengthofline
var chunkX=(this.x2-this.x1)/lengthofline
var addhtml=''
for(var s=1;s<=lengthofline;s=s+this.thick)
{
var pixelleft=Math.round(this.x1+s*chunkX)
var pixeltop=Math.round(this.y1+s*chunkY)
addhtml+="<div style='position:absolute; line-height:0; clip:rect(0,"+this.thick+"px,"+this.thick+"px,0); z-index:"+this.z+"; width:"+this.thick+";height:"+this.thick+"px; left:"+pixelleft+"; top:"+pixeltop+"; background-color:"+this.colour+";'></div>"
}
canvas.innerHTML+=addhtml
}


var testline=new line(100,100,800,600,1,'#00ff00',1)
testline.DrawLine()

var testcircle=new circle(400,500,100,1,'#0000ff',1)
testcircle.DrawCircle()

var testelipse=new elipse(600,200,50,200,1,'#0000ff',1)
testelipse.DrawElipse()

//-->
</script>


</body>
</html>
