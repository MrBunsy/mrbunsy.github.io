<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
<head>
<title>Layers test</title>
<script src="ajax.js" type="text/javascript"></script>

</head>
<body onkeydown="keydown(event)" onkeyup="keyup(event)">
<script language="JavaScript" type="text/javascript">
<!--
var moveby = 0;
var moveup=false;
var movedown=false;
var moveleft=false;
var moveright=false;

function keydown(event)
{
//alert('keydown')
var key = String.fromCharCode(event.keyCode || event.which);
//alert(key)

switch (key){
case "A":
case "%":
//left
moveleft = true;
//movesquare();
break;

case "D":
case "'":
//righ
moveright=true;
//movesquare();
break;

case "W":
case "&":
//up
moveup=true;
//movesquare();
break;

case "S":
case "(":

//down
movedown=true;
//movesquare()
break;

default:
return true;}
//alert(moveby)
return false;}

function keyup(event)
{var key = String.fromCharCode(event.keyCode || event.which);

switch (key){
case "A":
case "%":
moveleft=false;
break;

case "D":
case "'":
moveright=false;
break;

case "W":
case "&":
moveup=false;
break;

case "S":
case "(":
movedown=false;
break;

default:
return true;}
return false;}
//-->
</script>
<!-- <div style="position: absolute; left: 610px; top: 180px; height: 400px; width: 100px; padding: 1em; z-index: 2;" id="imageold"><img src="black.gif" alt=""></div> //-->
<div id="display"></div>
<div style="position: relative; left: 10px; top: 10px; height: 50px; width: 50px; z-index: 2;" id="image1"><img src="black.gif" alt=""></div>

<script language="JavaScript" type="text/javascript">
<!--
//document.getElementById('image1').style.top="10%"
//document.getElementById('image1').style.left="10%"
main()
var temp;
var newtemp;
var limitcheck;
var width=500;

//loop stuff
var loopme=setInterval('main()',100)
var loopmestatus = 1

function main()
{
movesquare()
var x = tonumber(document.getElementById('image1').style.left)
var y = tonumber(document.getElementById('image1').style.top)
document.getElementById('display').innerHTML="Square location: X="+x+" Y="+y
}

function pause()
{if (loopmestatus == 1)
{clearInterval(loopme)
loopmestatus = 0}else{
loopme=setInterval('main()',1000)
loopmestatus = 1}}

function checklimits(currentvalue,change)
{
limitcheck = currentvalue+change
if(limitcheck > 0 && limitcheck < 500)
{return limitcheck}
else
{return currentvalue}
}

function tonumber(str)
{
str = str.replace("px","")
str = str*1
return str;
}


// convert a number to x and y, provided you know max width
/*
var i = thenumber;
while (i>=0)
{i=i-width;}
var x=i+width;
var y=(i-x)/width;

//and the other way

thenumber; =(y*width)+x;


*/


function movesquare()
{
if (moveup == true){move("image1","top",-10)}
if (movedown == true){move("image1","top",10)}
if (moveleft == true){move("image1","left",-10)}
if (moveright == true){move("image1","left",10)}

//move("image1","left",newx)

}


function move(element_id,property,howmuch)
{
temp = "document.getElementById(element_id).style."+property
temp = eval(temp)
temp = temp.replace("px","")
newtemp = temp*1
newtemp = checklimits(newtemp,howmuch)
temp="document.getElementById(element_id).style."+property+"="+newtemp
eval(temp)
//main()
}
/*
function moveup()
{
move("image1","top",-25)

temp = document.getElementById('image1').style.top;
temp = temp.replace("px","")
newtemp = temp*1
newtemp -= 50
document.getElementById('image1').style.top=newtemp

}

function movedown()
{
move("image1","top",25)
}

function moveleft()
{
move("image1","left",-25)
}

function moveright()
{
move("image1","left",25)
}
*/
//-->
</script>

</body>
</html>
